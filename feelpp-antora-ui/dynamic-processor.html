<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dynamic processor :: Course Project</title>
    <link rel="canonical" href="https://feelpp.github.io/course-project/feelpp-antora-ui/dynamic-processor.html">
    <link rel="prev" href="admonition-styles.html">
    <link rel="next" href="source-highlighting.html">
    <meta name="generator" content="Antora 3.1.7">
    <link rel="stylesheet" href="../_/css/site.css">
<link rel="icon" href="../_/img/favicon.ico" type="image/x-icon">
<script>!function(l,p){if(l.protocol!==p&&l.host=="docs.antora.org"){l.protocol=p}else if(/\.gitlab\.io$/.test(l.host)){l.replace(p+"//docs.antora.org"+l.pathname.substr(l.pathname.indexOf("/",1))+l.search+l.hash)}}(location,"https:")</script>

<script src="../_/js/vendor/tabs-block-extension.js"></script>
<script src="../_/js/vendor/tabs-block-behavior.js"></script>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\\[','\\]']],
    processEscapes: true,
    processEnvironments: true,
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },

  TeX: {
      Macros: {
      bold: ["{\\bf #1}",1],
      calTh: "{\\mathcal{T}_h}",
      card: ["{\\operatorname{card}(#1)}",1],
      card: ["{\\operatorname{card}(#1)}",1],
      Ck: ["{\\mathcal{C}^{#1}}",1],
      deformt: ["{\\mathbf{\\varepsilon(#1)}}",1],
      diam: "{\\operatorname{diam}}",
      dim: ["{\\operatorname{dim}(#1)}",1],
      disp: ["{\\mathbf{#1}}",1],
      domain: "{\\Omega}",
      ds: "",
      essinf: "{\\operatorname{ess}\\, \\operatorname{inf}}",
      F:"{\\mathcal{F}}",
      geo: "{\\mathrm{geo}}",
      Ich: ["{\\mathcal{I}^{#1}_{c,h}#2}",2],
      Id: "{\\mathcal{I}}",
      Ilag: ["{\\mathcal{I}^{\\mathrm{lag}}_{#1}}",1],
      jump: ["{[\\![ #1 ]\\!]}",1],
      n:"{\\mathbf{n}}",
      Ne: "{N_{\\mathrm{e}}}",
      Next: "{\\mathrm{n}}",
      nf: "{n_f}",
      ngeo: "{n_{\\mathrm{geo}}}",
      Nma: "{N_{\\mathrm{ma}}}",
      NN: "{\\mathbb N}",
      Nno: "{N_{\\mathrm{no}}}",
      Nso: "{N_{\\mathrm{so}}}",
      opdim: "{\\operatorname{dim}}",
      p: "{\\mathrm{p}}",
      P:"{\\mathcal{P}}",
      Pch: ["{P^{#1}_{c,h}}",1],
      Pcho: ["{P^{#1}_{c,h,0}}",1],
      Pk: ["{\\mathcal{P}^{#1}}",1],
      poly: ["{\\mathbb{#1}",1],
      poly: ["{\\mathbb{#1}}",1],
      prect: ["{\\left\\(#1\\right\\)}",1],
      q:"{\\mathbf{q}}",
      Qch: ["{Q^{#1}_{c,h}}",1],
      Qk: ["{\\mathcal{Q}^{#1}}",1],
      R: ["{\\mathbb{R}^{#1}}",1],
      RR: "{\\mathbb R}",
      set: ["{\\left\\{#1\\right\\}}",1],
      stresst: ["{\\mathbf{\\sigma(#1)}}",1],
      T:"{\\mathcal{T}}",
      tr: "{\\operatorname{tr}}",
      v:"{\\mathbf{v}}",
      vertiii: ["\\left\\vert\\kern-0.25ex\\left\\vert\\kern-0.25ex\\left\\vert #1 \\right\\vert\\kern-0.25ex\\right\\vert\\kern-0.25ex\\right\\vert",1]
  },
  extensions: ["mhchem.js"] 
  }
});
</script>
<!--<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/MathJax.js?config=TeX-MML-AM_CHTML"></script>-->
<!-- <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script> -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS_CHTML'></script>
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>-->

<!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css" integrity="sha384-TEMocfGvRuD1rIAacqrknm5BQZ7W7uWitoih+jMNFXQIbNl16bO8OZmylH/Vi/Ei" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.js" integrity="sha384-jmxIlussZWB7qCuB+PgKG1uLjjxbVVIayPJwi6cG6Zb4YKq0JIw+OMnkkEC7kYCq" crossorigin="anonymous"></script>-->
<script>var uiRootPath = '../_'</script>

  </head>
  <body class="article">
<header class="header">
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark navbar-template-project"
        style="border-top: 4px solid #9E9E9E">
        <div class="navbar-brand">
            <div class="navbar-item feelpp-logo">
                <a href="https://feelpp.github.io/course-project">Course Project</a>
            </div>
            <button class="navbar-burger" data-target="topbar-nav">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>

        <div id="topbar-nav" class="navbar-menu">
            <div class="navbar-end">
               <!--<div class="navbar-item">
                    <a href="../_/../cours-project/python/index.html">Documentation Reference</a>
                </div>-->
                <div class="navbar-item has-dropdown is-hoverable download-item">
                    <div class="navbar-item"><a href="../_/../cours-project/_attachments/cours-project.zip"
                            class="download-btn">Download the Notebooks</a></div>
                </div>
                <div class="navbar-item">
                    <a class="navbar-brand" href="https://www.cemosis.fr">
                        <img class="cemosis-logo" src="../_/img/cemosis-logo.svg" alt="Cemosis logo" />
                    </a>
                </div>
                <div class="navbar-item">
                    <a class="navbar-brand" href="https://www.unistra.fr">
                        <img class="cemosis-logo" src="../_/img/logo-unistra.png" alt="Unistra logo" />
                    </a>
                </div>
            </div>
        </div>
    </nav>
</header><div class="body">
<a href="#" class="menu-expand-toggle"></a>
<div class="nav-container" data-component="feelpp-antora-ui" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Antora Feel++ UI</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="style-guide.html">UI Element Styles</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="inline-text-styles.html">Inline Text</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="admonition-styles.html">Admonitions</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="dynamic-processor.html">Dynamic processor</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="source-highlighting.html">Source Highlighting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="copy-to-clipboard.html">Copy to Clipboard</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pseudocode.html">Pseudocode</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="page-layouts.html">Page Layouts</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Antora Feel++ UI</span>
    <span class="version"></span>
  </div>
  <ul class="components">
      <li class="component is-current">
        <a class="title" href="index.html">Antora Feel++ UI</a>
      </li>
      <li class="component">
        <a class="title" href="../course-project/index.html">Course Project</a>
      </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
  <button class="nav-toggle"></button>
    <a href="../course-project/index.html" class="home-link"></a>
  <nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Antora Feel++ UI</a></li>
    <li><a href="style-guide.html">UI Element Styles</a></li>
    <li><a href="dynamic-processor.html">Dynamic processor</a></li>
  </ul>
</nav>

  
    <div class="edit-this-page"><a href="https://github.com/feelpp/antora-ui/edit/main/docs/modules/ROOT/pages/dynamic-processor.adoc">Edit this Page</a></div>
  
  <div class="page-downloads">
  <span class="label">Download as</span>
  <ul class="download-options">
    <li>
      <a onclick="print(this)" href="#" data-toggle="tooltip" data-placement="left" title="Print to PDF"
         class="pdf-download">
        <img class="pdf-file-icon icon" src="../_/img/pdf.svg"/> .pdf
      </a>
    </li>
  </ul>
</div>
</div>

  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Dynamic processor</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This extension allows you to compile and run code snippets in different languages (C and C++ at this time), and with different compilers.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_usage"><a class="anchor" href="#_usage"></a>1. Usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We present the different options that you can use with the dynamic processor.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>%dynamic</code>: The block should start with the <code>%dynamic</code> directive, so that the processor can identify it.</p>
</li>
<li>
<p><code>language</code>: The programming language of the code block. It is usefull on the one hand because it allows the processor to display correctly the code block, and on the other hand because it allows the processor to know which compiler to use.</p>
</li>
<li>
<p><code>filename</code>: The name of the file where the code block will be saved. If the file already exists, it will be overwritten. If nothing is specified, the file will be of the <code>tmp_1738748912630.cpp</code> (depending on the date and the file format specified).</p>
</li>
<li>
<p><code>compile</code>: The type of compilation that will be done, in one of the following:</p>
<div class="ulist">
<ul>
<li>
<p><code>sh</code> or <code>cpp</code>: The code will be compiled with the <code>g++</code> compiler. Default is <code>sh</code>.</p>
</li>
<li>
<p><code>c</code>: The code will be compiled with the <code>gcc</code> compiler.</p>
</li>
<li>
<p><code>mpi</code>: The code will be compiled with the <code>mpicxx</code> compiler.</p>
</li>
<li>
<p><code>make</code>: The code will be compiled with the <code>make</code> command.</p>
</li>
<li>
<p><code>cmake</code>: The code will be compiled with the <code>cmake</code> command. <em>(not implemented yet)</em>
Note that for the two last options, the page should contain the source of the Makefile or the CMakeLists.txt file. See example below.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>inputs</code>: The arguments that will be passed to the program during the execution.</p>
</li>
<li>
<p><code>comp-args</code>: The arguments that will be passed to the compiler during the compilation, if none are specified, the default arguments are <code>-std=c++17</code>.</p>
</li>
<li>
<p><code>run</code>: Tells if the program is executed or not (default is <code>true</code>).</p>
</li>
<li>
<p><code>build</code>: Build directory (for CMake), default is <code>build</code>.</p>
</li>
<li>
<p><code>exec</code>: The name of the executable file that will be created. If nothing is specified, the file will be of the form <code>Helloworld.exe</code>.</p>
</li>
<li>
<p><code>np</code>: The number of processes that will be used for the MPI compilation. Default is <code>2</code>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The three asciidoctor extensions should be loaded in that order in the <code>site.yml</code> file:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>cmake-dynamic-processor.js</code></p>
</li>
<li>
<p><code>makefile-dynamic-processor.js</code></p>
</li>
<li>
<p><code>dynamic-processor.js</code></p>
</li>
</ol>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example"><a class="anchor" href="#_example"></a>2. Example</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_example_of_a_c_code"><a class="anchor" href="#_example_of_a_c_code"></a>2.1. Example of a C++ code</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">[%dynamic, cpp, filename="Hello.cpp", compile=sh, inputs="arg1 arg2 arg3"]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Test compile C++</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">#include &lt;iostream&gt;

int main(int argc, char **argv)
{
    for (int i=0; i&lt;argc; i++)
        std::cout &lt;&lt; argv[i] &lt;&lt; std::endl;
    std::cout &lt;&lt; "Hello, world!" &lt;&lt; std::endl;
    return 0;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_example_of_a_c_code_2"><a class="anchor" href="#_example_of_a_c_code_2"></a>2.2. Example of a C code</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">[%dynamic, c, filename="Hello.c", compile=c, args="arg1 arg2 arg3", comp-args="-Wall -Wextra -Werror"]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Test compile C</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">#include &lt;stdio.h&gt;

int main(int argc, char **argv)
{
    for (int i=0; i&lt;argc; i++)
        printf("%s\n", argv[i]);
    printf("Hello, world!\n");
    return 0;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_example_of_a_mpi_code"><a class="anchor" href="#_example_of_a_mpi_code"></a>2.3. Example of a MPI code</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">[%dynamic, c, filename="MPI_Allgather.c", compile=mpi, np=3]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Test compile MPI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">#include &lt;mpi.h&gt;
#include &lt;stdio.h&gt;

int main(int argc, char **argv)
{
    MPI_Init(&amp;argc, &amp;argv);
    int rank;
    MPI_Comm_rank(MPI_COMM_WORLD, &amp;rank);
    printf("Hello from process %d\n", rank);
    MPI_Finalize();
    return 0;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_example_of_a_code_with_openmp"><a class="anchor" href="#_example_of_a_code_with_openmp"></a>2.4. Example of a code with OpenMP</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">[%dynamic, cpp, filename="HelloWorld_omp.cpp", compile=openmp]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Test compile OpenMP</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">#include &lt;iostream&gt;
#include &lt;omp.h&gt;

int main(int argc, char* argv[])
{
	// Use 4 OpenMP threads
	omp_set_num_threads(4);

	// Variable that will be private
	int val = 123456789;

	printf("Value of \"val\" before the OpenMP parallel region: %d.\n", val);
	#pragma omp parallel private(val)
	{
		printf("Thread %d sees \"val\" = %d, and updates it to be %d.\n", omp_get_thread_num(), val, omp_get_thread_num());
		val = omp_get_thread_num();
	}
	// Value after the parallel region; unchanged.
	printf("Value of \"val\" after the OpenMP parallel region: %d.\n", val);
	return 0;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_example_of_a_compilation_with_cmake"><a class="anchor" href="#_example_of_a_compilation_with_cmake"></a>2.5. Example of a compilation with CMake</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">[%dynamic, cmake]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cmake hljs" data-lang="cmake">cmake_minimum_required(VERSION 3.0)
project(HelloWorld)
add_executable(HelloWorld HelloWorldCMake.cpp)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">#include &lt;iostream&gt;

int main(int argc, char **argv)
{
    for (int i = 1; i &lt; argc; ++i)
        std::cout &lt;&lt; argv[i] &lt;&lt;  " ";
    std::cout &lt;&lt; std::endl;
    return 0;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_example_of_a_code_with_makefile"><a class="anchor" href="#_example_of_a_code_with_makefile"></a>2.6. Example of a code with Makefile</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">[%dynamic, makefile, filename="Makefile"]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-makefile hljs" data-lang="makefile"># Spécifie le compilateur à utiliser
CXX = g++

# Spécifie les flags du compilateur
CXXFLAGS = -Wall -O2 --std=c++17

# Cible par défaut (quand on tape 'make' tout seul)
all: mon_programme

# Règle pour construire mon_programme
mon_programme: mon_programme.cpp
	echo "Compilation de mon_programme..."
	$(CXX) $(CXXFLAGS) mon_programme.cpp -o mon_programme.exe

# Règle pour nettoyer les fichiers générés
clean:
	rm -f mon_programme</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">[%dynamic, cpp, compile="make", filename="mon_programme.cpp"]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cpp hljs" data-lang="cpp">#include &lt;iostream&gt;

int main()
{
	std::cout &lt;&lt; "Hello, world!" &lt;&lt; std::endl;
	return 0;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="admonition-styles.html">Admonitions</a></span>
  <span class="next"><a href="source-highlighting.html">Source Highlighting</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer"
    style="border-top: 2px solid #e9e9e9; background-color: #fafafa; padding-bottom: 2em; padding-top: 2em;">
    <div class="container" style="display: flex; flex-direction: column; align-items: center; gap: 0.5em;">
        <div>
            <a href="https://www.cemosis.fr">
                <img src="../_/img/cemosis-logo.svg" alt="Cemosis logo" height="50">
            </a>
            &nbsp;&nbsp;&nbsp;&nbsp;
            <a href="https://www.unistra.fr">
                <img src="../_/img/logo-unistra.png" alt="Unistra logo" height="50">
            </a>
        </div>
        <span style="font-size: 0.8rem; color: #9e9e9e">© 2025 <a href="https://www.cemosis.fr"
                style="text-decoration: underline;">Cemosis</a>, Université de Strasbourg</span>
    </div>
</footer><script id="site-script" src="../_/js/site.js" data-ui-root-path="../_"></script>


<script async src="../_/js/vendor/fontawesome-icon-defs.js"></script>
<script async src="../_/js/vendor/fontawesome.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>


<script type="text/javascript">
function toggleFullScreen() {
   var doc = window.document;
   var docEl = doc.documentElement;

   var requestFullScreen = docEl.requestFullscreen || docEl.mozRequestFullScreen || docEl.webkitRequestFullScreen || docEl.msRequestFullscreen;
   var cancelFullScreen = doc.exitFullscreen || doc.mozCancelFullScreen || doc.webkitExitFullscreen || doc.msExitFullscreen;

   if(!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement && !doc.msFullscreenElement) {
       requestFullScreen.call(docEl);
   }
   else {
       cancelFullScreen.call(doc);
   }
}
</script>
  </body>
</html>
