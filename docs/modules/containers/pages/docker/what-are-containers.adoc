= What are Containers?
:page-tags: docker-manual
:parent-catalogs: containers:index
:page-illustration: fa-solid fa-box
:description: Understand what containers are and why they matter for mathematical computing and scientific research.

[.level-indicator.bg-warning.text-white.p-3.rounded.mb-4]
====
*üü° LEVEL 2* | *Time:* 20 minutes | *Prerequisites:* Basic Linux knowledge
====

== The Problem: "It Works on My Machine"

As a mathematics student, you've likely encountered this scenario:

[quote]
You develop a numerical simulation in Python with NumPy, SciPy, and matplotlib. It runs perfectly on your laptop. You share your code with your advisor or submit it for a paper... and it fails.

Why? Different library versions, missing dependencies, or different operating system configurations.

**Containers solve this problem.**

== What is a Container?

A container is a **lightweight, standalone package** that includes:

- Your application code
- All dependencies and libraries
- Configuration files
- Runtime environment

[.cards.grid-2]
[cols="1,1"]
|===
^.^a|
[.card]
====
*üì¶ Think of it like...*

A shipping container. Just as a shipping container can hold any cargo and be transported on any ship, truck, or train, a software container holds your application and can run on any computer with Docker installed.
====

^.^a|
[.card]
====
*üî¨ For Mathematics...*

Package your entire computational environment:

- Python 3.11 + NumPy 1.24.0 + SciPy 1.10.0
- Your mathematical algorithms
- Test data and configuration

Share it with anyone, anywhere.
====
|===

== Containers vs. Virtual Machines

[cols="1,1,1", options="header"]
|===
| Aspect | Virtual Machine | Container

| **Size**
| Gigabytes (includes full OS)
| Megabytes (shares host OS kernel)

| **Startup Time**
| Minutes
| Seconds

| **Resource Usage**
| Heavy (full OS per VM)
| Light (shared kernel)

| **Isolation**
| Complete (hardware-level)
| Process-level

| **Portability**
| Limited
| Excellent

| **Use Case**
| Different OS needed
| Same OS, isolated apps
|===

.Visual Comparison
image::docker/containers-vs-vms.png[Containers vs VMs,600]

== Why Containers for Scientific Computing?

=== 1. Reproducible Research

[source,text]
----
Paper from 2020: "Our simulation uses Python 3.8, NumPy 1.19, custom library v2.3"

Without containers: Good luck recreating that exact environment!
With containers: docker pull myresearch/simulation:paper-2020 ‚úì
----

=== 2. Dependency Management

Mathematical software often has complex dependencies:

[source,text]
----
Your numerical analysis project needs:
‚îú‚îÄ‚îÄ Python 3.11
‚îú‚îÄ‚îÄ NumPy 1.24.0 (requires specific BLAS)
‚îú‚îÄ‚îÄ SciPy 1.10.0 (must match NumPy version)
‚îú‚îÄ‚îÄ matplotlib 3.7.0
‚îú‚îÄ‚îÄ Your custom library
‚îî‚îÄ‚îÄ Specific compiler flags for performance
----

Containers capture ALL of this.

=== 3. Collaboration

[source,shell]
----
# Your advisor can run your exact environment:
docker pull ghcr.io/yourusername/thesis-simulation:latest
docker run thesis-simulation python run_experiment.py
----

=== 4. HPC Portability

Run the same container on:

- Your laptop (development)
- University cluster (testing)
- National HPC center (production)

== Key Concepts

=== Images vs. Containers

[cols="1,1"]
|===
| **Image** | **Container**

| Blueprint/template
| Running instance

| Read-only
| Read-write layer on top

| Stored on disk
| Running in memory

| Like a class in OOP
| Like an object/instance
|===

[source,shell]
----
# Image: the template
docker pull python:3.11

# Container: running instance of the image
docker run python:3.11 python -c "print('Hello, Math!')"
----

=== Layers and Efficiency

Docker images are built in **layers**:

[source,text]
----
Layer 4: Your Python script (2 KB)        ‚Üê Changes frequently
Layer 3: pip install numpy scipy (200 MB) ‚Üê Changes sometimes  
Layer 2: Python 3.11 (100 MB)             ‚Üê Rarely changes
Layer 1: Ubuntu base (50 MB)              ‚Üê Almost never changes
----

Only changed layers are rebuilt/downloaded, making updates fast.

== Docker and OCI Standards

Docker popularized containers, but the technology is now standardized:

**OCI (Open Container Initiative)** defines:

- **Image format**: How container images are structured
- **Runtime specification**: How containers execute

This means Docker images work with:

- Docker
- Podman
- containerd
- Apptainer/Singularity (for HPC)

[.callout.tip]
--
**For master students**: Understanding that Docker follows OCI standards means your containerized research is portable across different container runtimes - especially important when moving from Docker (development) to Apptainer (HPC clusters).
--

== Summary

[cols="1,3"]
|===
| Concept | Key Point

| Container
| Lightweight package with app + dependencies

| Image
| Read-only template for creating containers

| vs. VM
| Containers share OS kernel, faster and lighter

| OCI
| Open standards ensure portability

| For Math
| Reproducible research, easy collaboration
|===

== Next Steps

. xref:docker/docker-install.adoc[Install Docker] on your machine
. xref:docker/hands-on/01-getting-started.adoc[Run your first container]
. Learn xref:docker/dockerfile-basics.adoc[how to build images with Dockerfile]
